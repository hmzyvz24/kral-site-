<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yılan</title>
    <style>
        body { font-family: 'Arial Black', Arial; text-align: center; background-image: url('https://i.pinimg.com/736x/68/fc/52/68fc522a8deaea59e9a1543df5380608.jpg'); background-size: cover; background-attachment: fixed; color: white; margin: 0; padding: 20px; }
        h1 { font-style: italic; text-shadow: 2px 2px 8px black; font-size: 60px; animation: glow 2s infinite; }
        @keyframes glow { 0% { text-shadow: 0 0 20px yellow; } 50% { text-shadow: 0 0 40px yellow; } 100% { text-shadow: 0 0 20px yellow; } }
        canvas { background: rgba(0,0,0,0.5); border: 5px solid lime; border-radius: 10px; }
        #score { font-size: 35px; margin: 20px; font-style: italic; text-shadow: 2px 2px 8px black; }
        button { padding: 15px 30px; font-size: 25px; background: lime; color: black; border: none; cursor: pointer; border-radius: 10px; margin-top: 20px; }
        p { font-size: 25px; }
        a { color: lime; font-size: 30px; text-decoration: none; }
    </style>
</head>
<body>
    <h1>Yılan</h1>
    <p>Ok tuşları veya WASD ile hareket et!</p>
    <canvas id="canvas" width="400" height="400"></canvas>
    <div id="score">Skor: 0</div>
    <button onclick="resetGame()">Yeni Oyun</button>
    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const gridSize = 20;
        const tileCount = canvas.width / gridSize;

        let snake = [{x: 10, y: 10}];
        let food = {};
        let dx = 0;
        let dy = 0;
        let score = 0;
        let gameOver = false;

        function randomFood() {
            food = {x: Math.floor(Math.random() * tileCount), y: Math.floor(Math.random() * tileCount)};
        }

        function drawGame() {
            ctx.fillStyle = 'rgba(0,0,0,0.8)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            ctx.fillStyle = 'lime';
            snake.forEach((part, index) => {
                ctx.fillRect(part.x * gridSize, part.y * gridSize, gridSize - 2, gridSize - 2);
                if (index === 0) ctx.fillStyle = 'yellow';
            });

            ctx.fillStyle = 'red';
            ctx.fillRect(food.x * gridSize, food.y * gridSize, gridSize - 2, gridSize - 2);

            document.getElementById('score').innerText = 'Skor: ' + score;
        }

        function update() {
            if (gameOver) return;

            const head = {x: snake[0].x + dx, y: snake[0].y + dy};

            if (head.x < 0 || head.x >= tileCount || head.y < 0 || head.y >= tileCount) {
                gameOver = true;
                document.getElementById('score').innerText = 'Oyun Bitti! Skor: ' + score;
                return;
            }

            for (let part of snake) {
                if (head.x === part.x && head.y === part.y) {
                    gameOver = true;
                    document.getElementById('score').innerText = 'Oyun Bitti! Skor: ' + score;
                    return;
                }
            }

            snake.unshift(head);

            if (head.x === food.x && head.y === food.y) {
                score++;
                randomFood();
            } else {
                snake.pop();
            }

            drawGame();
        }

        function changeDirection(event) {
            const LEFT = 37, RIGHT = 39, UP = 38, DOWN = 40, W = 87, A = 65, S = 83, D = 68;
            const key = event.keyCode;
            if (key === LEFT || key === A) if (dx !== 1) { dx = -1; dy = 0; }
            if (key === RIGHT || key === D) if (dx !== -1) { dx = 1; dy = 0; }
            if (key === UP || key === W) if (dy !== 1) { dx = 0; dy = -1; }
            if (key === DOWN || key === S) if (dy !== -1) { dx = 0; dy = 1; }
        }

        function resetGame() {
            snake = [{x: 10, y: 10}];
            dx = 0;
            dy = 0;
            score = 0;
            gameOver = false;
            randomFood();
            drawGame();
        }

        document.addEventListener('keydown', changeDirection);
        randomFood();
        setInterval(update, 150);
    </script>
    <br><br><a href="index.html">Ana Sayfa</a>
</body>
</html>
