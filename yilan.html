<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yılan</title>
    <style>
        body { font-family: 'Arial Black', Arial; text-align: center; background-image: url('https://i.pinimg.com/736x/68/fc/52/68fc522a8deaea59e9a1543df5380608.jpg'); background-size: cover; background-attachment: fixed; color: white; margin: 0; padding: 20px; }
        h1 { font-style: italic; text-shadow: 2px 2px 8px black; font-size: 60px; animation: glow 2s infinite; }
        @keyframes glow { 0% { text-shadow: 0 0 20px yellow; } 50% { text-shadow: 0 0 40px yellow; } 100% { text-shadow: 0 0 20px yellow; } }
        canvas { background: rgba(0,0,0,0.5); border: 5px solid lime; border-radius: 10px; }
        #score { font-size: 35px; margin: 20px; font-style: italic; text-shadow: 2px 2px 8px black; }
        button { padding: 15px 30px; font-size: 25px; background: lime; color: black; border: none; cursor: pointer; border-radius: 10px; margin-top: 20px; }
        p { font-size: 25px; font-style: italic; text-shadow: 2px 2px 8px black; }
        a { color: lime; font-size: 30px; text-decoration: none; }
    </style>
</head>
<body>
    <h1>Yılan Oyunu</h1>
    <p>Ok tuşları veya WASD ile hareket et!</p>
    <canvas id="canvas" width="400" height="400"></canvas>
    <div id="score">Skor: 0</div>
    <button onclick="resetGame()">Yeni Oyun</button>
    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const gridSize = 20;
        const tileCount = canvas.width / gridSize;

        let snake = [{x: 10, y: 10}];
        let food = {x: 15, y: 15};
        let dx = 0;
        let dy = 0;
        let score = 0;
        let gameOver = false;

        function drawGame() {
            // Arka plan
            ctx.fillStyle = 'rgba(0,0,0,0.8)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Yılan (kafa sarı, gövde lime)
            snake.forEach((part, index) => {
                ctx.fillStyle = index === 0 ? 'yellow' : 'lime';
                ctx.fillRect(part.x * gridSize, part.y * gridSize, gridSize - 2, gridSize - 2);
            });

            // Yem (kırmızı)
            ctx.fillStyle = 'red';
            ctx.fillRect(food.x * gridSize, food.y * gridSize, gridSize - 2, gridSize - 2);

            // Skor
            document.getElementById('score').innerText = 'Skor: ' + score;
        }

        function update() {
            if (gameOver) return;

            const head = {x: snake[0].x + dx, y: snake[0].y + dy};

            // Duvar çarpışma
            if (head.x < 0 || head.x >= tileCount || head.y < 0 || head.y >= tileCount) {
                gameOver = true;
                document.getElementById('score').innerText = 'Oyun Bitti! Skor: ' + score;
                return;
            }

            // Kendine çarpışma
            if (snake.some(part => part.x === head.x && part.y === head.y)) {
                gameOver = true;
                document.getElementById('score').innerText = 'Oyun Bitti! Skor: ' + score;
                return;
            }

            snake.unshift(head);

            // Yem yeme
            if (head.x === food.x && head.y === food.y) {
                score++;
                food = {
                    x: Math.floor(Math.random() * tileCount),
                    y: Math.floor(Math.random() * tileCount)
                };
            } else {
                snake.pop();
            }

            drawGame();
        }

        function changeDirection(e) {
            const key = e.keyCode;
            if ((key === 37 || key === 65) && dx !== 1) { dx = -1; dy = 0; } // Sol / A
            if ((key === 39 || key === 68) && dx !== -1) { dx = 1; dy = 0; } // Sağ / D
            if ((key === 38 || key === 87) && dy !== 1) { dx = 0; dy = -1; } // Yukarı / W
            if ((key === 40 || key === 83) && dy !== -1) { dx = 0; dy = 1; } // Aşağı / S
        }

        function resetGame() {
            snake = [{x: 10, y: 10}];
            dx = 0;
            dy = 0;
            score = 0;
            gameOver = false;
            food = {x: 15, y: 15};
            drawGame();
        }

        document.addEventListener('keydown', changeDirection);
        drawGame();
        setInterval(update, 150);
    </script>
    <br><br><a href="index.html">Ana Sayfa</a>
</body>
</html>
